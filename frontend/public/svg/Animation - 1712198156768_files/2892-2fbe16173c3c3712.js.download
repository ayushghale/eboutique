(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2892,1957],{77492:function(e,n,t){"use strict";t.d(n,{o:function(){return l}});var r=t(29901),o=t(24161),a=t(47642),i=t(47381),s=t(61250),l=r.forwardRef((function(e,n){var t=e.children,r=e.contentWrapperCssClasses,l=void 0===r?"flex-grow overflow-hidden":r,u=e.headerControl,c=e.headerWrapperCssClasses,d=void 0===c?"bg-white h-16 flex items-center px-6 border-b border-gray-100 flex-shrink-0":c,f=e.id,m=(0,o.useRecoilValue)(a.qx);return(0,s.jsxs)("div",{id:f,ref:n,"data-onboarding-watch":"create_menu_new_button",className:"absolute inset-0 flex flex-col w-full overflow-y-auto",children:[u&&(0,s.jsx)("div",{className:d,children:u}),m?(0,s.jsx)(i.a,{size:"lg"}):(0,s.jsx)("div",{className:l,children:t})]})}));l.displayName="PageScaffold"},96421:function(e,n,t){"use strict";t.d(n,{s:function(){return l}});var r=t(89303),o=(t(29901),t(24161)),a=t(36243),i=t(28725),s=t(61250),l=function(){var e=(0,o.useRecoilState)(a.Hw),n=(0,r.Z)(e,2),t=n[0],l=n[1];return(0,s.jsx)(i.n,{icon:"bounding-box",title:"Bounding box",onClick:function(){l(!t)},iconColorClass:t?"text-actionPrimary":"text-gray-600"})}},2892:function(e,n,t){"use strict";t.r(n);var r=t(89303),o=t(55312),a=t(24642),i=t.n(a),s=t(59715),l=t(71108),u=t(26766),c=t(62295),d=t(83849),f=t.n(d),m=t(79120),p=t(77179),v=t.n(p),h=t(53341),b=t(88406),x=t(26929),w=t(29901),g=t(34742),C=t(24161),E=t(389),k=t(98825),y=t(77492),j=t(96421),O=t(63738),S=t(40699),M=t(60919),I=t(28725),N=t(37576),T=t(1423),F=t(31380),R=t(20419),P=t(70553),L=t(93065),q=t(99729),_=t(83349),A=t(59407),U=t(36359),Z=t(48097),D=t(25044),G=t(73901),B=t(11957),V=t(98326),K=t(18807),W=t(9725),z=t(48612),H=t(36243),Q=t(13794),J=t(47642),Y=t(48319),X=t(24450),$=t(95334),ee=t(4844),ne=t(61250),te=(0,b.default)((0,o.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.e(8980).then(t.bind(t,68980)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[68980]},modules:["animation/[id].tsx -> @/components/features/onboarding/onboarding-modal"]}}),re=(0,b.default)((0,o.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.e(7870).then(t.bind(t,97870)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[97870]},modules:["animation/[id].tsx -> @/components/features/upload/editor-handback-container"]}}),oe=(0,b.default)((0,o.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([t.e(6627),t.e(508),t.e(2762),t.e(1809)]).then(t.bind(t,99547)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[99547]},modules:["animation/[id].tsx -> @/components/features/palette-swapper/color-palette-confirmation-modal"]}}),ae=(0,b.default)((0,o.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.e(5150).then(t.bind(t,85150)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[85150]},modules:["animation/[id].tsx -> @/components/ui/pushovers/animation-export-panel"]}}),ie=(0,b.default)((0,o.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([t.e(4550),t.e(1666)]).then(t.bind(t,41666)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[41666]},modules:["animation/[id].tsx -> @/components/ui/pushovers/animation-qr-code"]}}),se=(0,b.default)((0,o.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([t.e(467),t.e(2102)]).then(t.bind(t,82102)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[82102]},modules:["animation/[id].tsx -> @/components/ui/pushovers/animation-embed"]}}),le=(0,b.default)((0,o.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.e(8833).then(t.bind(t,88833)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[88833]},modules:["animation/[id].tsx -> @/components/ui/pushovers/animation-versions"]}}),ue=(0,b.default)((0,o.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([t.e(4588),t.e(70),t.e(5710),t.e(7134),t.e(8560),t.e(5743)]).then(t.bind(t,5743)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[5743]},modules:["animation/[id].tsx -> @/components/ui/pushovers/animation-segment-container"]}}),ce=(0,b.default)((0,o.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([t.e(4588),t.e(70),t.e(7134),t.e(8560),t.e(4911)]).then(t.bind(t,59149)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[59149]},modules:["animation/[id].tsx -> @/components/features/lottie-in-context/lottie-mockup-panel"]}}),de=(0,b.default)((0,o.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([t.e(7713),t.e(7701),t.e(4976)]).then(t.bind(t,84976)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[84976]},modules:["animation/[id].tsx -> @/components/ui/pushovers/animation-color-palettes"]}}),fe=(0,b.default)((0,o.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([t.e(243),t.e(8778),t.e(9229),t.e(4270),t.e(8176),t.e(5627),t.e(9455),t.e(3040),t.e(3171)]).then(t.bind(t,3171)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[3171]},modules:["animation/[id].tsx -> @/components/ui/pushovers/animation-file-info"]}}),me=(0,b.default)((0,o.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve().then(t.bind(t,67508)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[67508]},modules:["animation/[id].tsx -> @/components/page/animation/comment/comment-pushover"]}}),pe=(0,b.default)((0,o.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.e(9268).then(t.bind(t,49268)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[49268]},modules:["animation/[id].tsx -> @/components/page/animation/background-color-control"]}}),ve=(0,b.default)((0,o.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([t.e(4588),t.e(70),t.e(7134)]).then(t.bind(t,87134)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[87134]},modules:["animation/[id].tsx -> @/components/features/lottie-in-context/lottie-mockup-preview"]}}),he=(0,b.default)((0,o.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([t.e(2330),t.e(2208)]).then(t.bind(t,62330)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[62330]},modules:["animation/[id].tsx -> @/components/page/animation/player/animation-player"]}}),be=(0,b.default)((0,o.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([t.e(467),t.e(6660),t.e(4550),t.e(3020),t.e(2762),t.e(9421),t.e(8958),t.e(4173),t.e(481)]).then(t.bind(t,17713)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[17713]},modules:["animation/[id].tsx -> @/components/ui/pushovers/animation-header"]}}),xe=function(){var e,n,t,o,a,i,d,p,b,k,xe,we,ge,Ce,Ee,ke,ye,je,Oe=(0,w.useState)(),Se=Oe[0],Me=Oe[1],Ie=(0,C.useRecoilState)(H.sI),Ne=(0,r.Z)(Ie,2),Te=Ne[0],Fe=Ne[1],Re=(0,w.useState)(),Pe=Re[0],Le=Re[1],qe=(0,w.useState)(),_e=qe[0],Ae=qe[1],Ue=(0,C.useSetRecoilState)(J.E4),Ze=(0,C.useSetRecoilState)(H.GG),De=(0,w.useState)(null),Ge=De[0],Be=De[1],Ve=(0,w.useState)(null),Ke=Ve[0],We=Ve[1],ze=(0,w.useState)(!1),He=ze[0],Qe=ze[1],Je=(0,C.useResetRecoilState)(H.h3),Ye=(0,C.useResetRecoilState)(H.m9),Xe=(0,C.useResetRecoilState)(H.lS),$e=(0,C.useSetRecoilState)(Y.QJ),en=(0,w.useState)(!1),nn=en[0],tn=en[1],rn=(0,w.useRef)(!1),on=(0,w.useRef)(!1),an=(0,C.useSetRecoilState)(J.qx),sn=(0,w.useState)(),ln=sn[0],un=sn[1],cn=(0,w.useState)(null),dn=cn[0],fn=cn[1],mn=(0,w.useRef)(!1),pn=(0,N.p)(),vn=(0,h.useRouter)(),hn=vn.query,bn=hn.frame,xn=hn.sort,wn=(0,G.k)(),gn=wn.canShowOnboarding,Cn=wn.done,En=wn.start,kn=vn.query,yn=kn.handback_id,jn=kn.id,On=(0,q.a)(),Sn=(0,V.cF)(),Mn=Sn.activeWorkspaceId,In=Sn.setActiveWorkspace,Nn=Sn.workspaces,Tn=(0,s.SS)(c.AD.ENABLE_ANIMATION_NAVIGATION_SHORTCUTS),Fn=(0,E.aM)({query:K.wP,variables:{id:jn},pause:!jn}),Rn=(0,r.Z)(Fn,1)[0],Pn=(0,E.aM)({query:K.xQ,variables:{id:jn,sort:xn,folderId:null===(e=Rn.data)||void 0===e||null===(n=e.file.folder)||void 0===n?void 0:n.id},pause:!jn||!Rn.data||!Tn.on}),Ln=(0,r.Z)(Pn,1)[0],qn=(0,U.w)(),_n=(0,r.Z)(qn,2),An=_n[0],Un=_n[1],Zn=(0,D._)("animation_sidebar_panel_state",{}),Dn=(0,r.Z)(Zn,1)[0],Gn=(0,w.useCallback)((function(e){e?(Be(v()(e)),fn(v()(e))):(Be(null),fn(null))}),[]);(0,Z.Z)({key:"k",action:function(){var e;if(!Tn.off)if(null!==(e=Ln.data)&&void 0!==e&&e.fileAboveAndBelowId.nextAnimation)vn.query.id=Ln.data.fileAboveAndBelowId.nextAnimation,vn.push({pathname:vn.pathname,query:vn.query}),on.current=!1;else if(!rn.current){var n=(0,ne.jsx)("div",{children:"No more animations to go to"});null==pn||pn.pushCustom(n,1e3,"bg-gray-900","text-white"),rn.current=!0}},dependencies:[Ln,Tn.off],takesPrecedence:!0}),(0,Z.Z)({key:"j",action:function(){var e;if(!Tn.off)if(null!==(e=Ln.data)&&void 0!==e&&e.fileAboveAndBelowId.prevAnimation)vn.query.id=Ln.data.fileAboveAndBelowId.prevAnimation,vn.push({pathname:vn.pathname,query:vn.query}),rn.current=!1;else if(!on.current){var n=(0,ne.jsx)("div",{children:"No more animations to go to"});null==pn||pn.pushCustom(n,1e3,"bg-gray-900","text-white"),on.current=!0}},dependencies:[Ln,Tn.off],takesPrecedence:!0}),(0,w.useEffect)((function(){if(Ln.data&&Ln.data.fileAboveAndBelowId.nextAnimation&&!mn.current&&Tn.on){var e,n="next-prev-toast-".concat(null===(e=On.user)||void 0===e?void 0:e.id),t=localStorage.getItem(n),r=(new Date).getTime();if(!t||r-parseInt(t,10)>12096e5){localStorage.setItem(n,r.toString());var o=(0,ne.jsxs)("div",{children:["Use the ",(0,ne.jsx)("span",{className:"px-2 py-0.5 mx-1 bg-gray-500 rounded",children:"J"})," and"," ",(0,ne.jsx)("span",{className:"px-2 py-0.5 mx-1 bg-gray-500 rounded",children:"K"})," keys to go to the next or previous animation"]});null==pn||pn.pushCustom(o,3e3,"bg-gray-900","text-white")}mn.current=!0}}),[pn,Tn.on,null===(t=On.user)||void 0===t?void 0:t.id,Ln.data]),(0,w.useEffect)((function(){if(Rn.data){var e,n,t,r=null===(e=Rn.data.file.folder)||void 0===e?void 0:e.id,o=null===(n=Rn.data.file.folder)||void 0===n?void 0:n.name,a=Rn.data.file.project.id,i=Rn.data.file.project.title,s=null!==(t=Rn.data.file.project.isPrivate)&&void 0!==t&&t,l=Rn.data.file.project.workspaceId,u=Nn.some((function(e){var n;return e.id===(null===(n=Rn.data)||void 0===n?void 0:n.file.project.workspaceId)}));l&&u&&l!==Mn&&In(l,!1),$e({type:r?"folder":"project",name:r?o:i,folderId:r,folderName:o,projectId:a,projectTitle:i,isPrivate:s,workspaceId:l})}}),[Rn.data,$e,Mn,In,Nn]);var Bn=(0,w.useState)("#f8fafc"),Vn=Bn[0],Kn=Bn[1],Wn=(0,C.useRecoilState)(H.h3),zn=(0,r.Z)(Wn,1)[0],Hn=(0,L.a)({scopes:(null==Te?void 0:Te.animationPermissionScopes)||[]}),Qn=Hn.canDownload,Jn=Hn.canFullAccess,Yn=Hn.canView,Xn=(0,w.useState)({id:"",showDescOnCollection:!1,description:"",descriptionModifiedBy:null}),$n=Xn[0],et=Xn[1];(0,w.useEffect)((function(){var e;if((Je(),Ye(),Rn.fetching&&an(!0),!Rn.fetching)&&(an(!1),An===X.s.NONE&&window.innerWidth>768))if(Dn&&null!==(e=On.user)&&void 0!==e&&e.id&&Dn[On.user.id]){var n=Dn[On.user.id];n===X.s.LOTTIE_MOCKUP&&Un(X.s.SEGMENT_MOCKUP),Un(n)}else Un(X.s.DOWNLOAD);return function(){}}),[Je,Ye,Un,Rn]);var nt=(0,w.useCallback)((function(e){try{void 0!==(0,m.H3)(e)&&Kn(e)}catch(e){Kn("#f8fafc")}}),[]);(0,w.useEffect)((function(){var e;if(null!=zn&&zn.fileObject){Me(zn.fileObject.url),Le(zn.fileObject.metadata),Ae(zn.fileObject.attributes),We(zn.fileObject),un(zn.tags),nt(zn.backgroundColor);var n=zn.fileObject.url,t=n.substring(n.lastIndexOf("/")+1,n.indexOf("?")).split(".").pop();Ze("lottie"===t)}else if(Rn.data&&!Rn.fetching){var r;Me(Rn.data.file.fileObject.url),Fe(Rn.data.file),Ue({type:"project",id:Rn.data.file.project.id}),Le(Rn.data.file.fileObject.metadata),Ae(Rn.data.file.fileObject.attributes),We(Rn.data.file.fileObject),un(Rn.data.file.currentVersion.tags),et({id:Rn.data.file.id,showDescOnCollection:Rn.data.file.showDescOnCollection,description:Rn.data.file.description,descriptionUpdatedAt:null===(r=Rn.data.file)||void 0===r?void 0:r.descriptionUpdatedAt,descriptionModifiedBy:Rn.data.file.descriptionModifiedBy}),nt(Rn.data.file.backgroundColor);var o=Rn.data.file.fileObject.url,a=o.substring(o.lastIndexOf("/")+1,o.indexOf("?")).split(".").pop();Ze("lottie"===a)}else if(Rn.error)throw console.log("error string: ",Rn.error.toString()),Rn.error.toString().toLowerCase().includes("access denied")?new F.J:Rn.error.toString().toLowerCase().includes("file not found")?new R.T:new Error(Rn.error.message);if(null!==(e=Rn.data)&&void 0!==e&&e.file.upgradeRequired)throw new P.K}),[Rn,zn,Ze,Fe,Ue,nt]),(0,w.useEffect)((function(){var e;null!==(e=Rn.data)&&void 0!==e&&e.file.id&&(0,u.Z9)(new u.Aj({fileId:Rn.data.file.id,projectId:Rn.data.file.project.id,workspaceId:Rn.data.file.project.workspaceId}))}),[null===(o=Rn.data)||void 0===o?void 0:o.file.id,null===(a=Rn.data)||void 0===a?void 0:a.file.project.id,null===(i=Rn.data)||void 0===i?void 0:i.file.project.workspaceId]);var tt=(0,w.useState)(!1),rt=tt[0],ot=tt[1],at=(0,w.useState)(!1),it=at[0],st=at[1],lt=(0,g.r)(),ut=(0,C.useRecoilState)(Q.vQ),ct=(0,r.Z)(ut,2)[1],dt=(0,w.useCallback)((function(){vn.query.comment&&(delete vn.query.comment,vn.push({pathname:vn.pathname,query:vn.query},void 0,{shallow:!0}))}),[vn]),ft=(0,w.useCallback)((function(){Un(X.s.NONE),tn(!1),An===X.s.COMMENTS&&dt(),vn.query.panel&&(delete vn.query.panel,vn.push({pathname:vn.pathname,query:vn.query},void 0,{shallow:!0}))}),[vn,An,Un,tn,dt]),mt=(0,w.useCallback)((function(e){return function(){An===e?(e===X.s.FILE_INFO&&ct(!1),ft()):(An===X.s.COLOR_PALETTES&&Gn(null),e!==X.s.FILE_INFO&&ct(!1),Un(e),vn.query.panel!==e&&(vn.query.panel=e,vn.push({pathname:vn.pathname,query:vn.query},void 0,{shallow:!0}))),An===X.s.COMMENTS&&dt()}}),[vn,ft,An,Un,ct,dt,Gn]);(0,Z.Z)({key:"c",action:function(){An!==X.s.COMMENTS?mt(X.s.COMMENTS):An===X.s.COMMENTS&&ft()},dependencies:[mt,ft,An]});var pt=(0,E.aM)({query:W.g,variables:{id:yn},pause:!yn}),vt=(0,r.Z)(pt,1)[0];(0,w.useEffect)((function(){Rn.data&&Te&&(An!==X.s.COMMENTS&&vn.query.comment&&(mt(X.s.COMMENTS)(),vn.push({pathname:vn.pathname,query:vn.query},void 0,{shallow:!0})),Qn()||An!==X.s.DOWNLOAD||mt(X.s.COMMENTS)(),Qn()||An!==X.s.EMBED||mt(X.s.COMMENTS)(),vn.query.edit_description&&(An!==X.s.FILE_INFO&&mt(X.s.FILE_INFO)(),tn(!0),delete vn.query.edit_description,vn.replace({pathname:vn.pathname,query:vn.query},void 0,{shallow:!0})))}),[Te,An,vn,mt,nn,Qn,Rn.data]);var ht=(0,w.useCallback)((function(){rt?(ot(!1),lt.exit()):(ot(!0),ft(),lt.enter())}),[ft,lt,rt]),bt=(0,w.useCallback)((function(e,n){n===lt&&ot(!!e)}),[lt]);(0,w.useEffect)((function(){Te&&En([T._r,T.T8,T.qO,T.fA,T.rG,T.Mx,T.QT])}),[Te]);var xt=(0,w.useCallback)((function(){st(!it)}),[it,st]),wt=(0,w.useRef)(null),gt=(0,w.useMemo)((function(){return(null==zn?void 0:zn.id)||(null==Te?void 0:Te.currentVersionId)||""}),[null==zn?void 0:zn.id,null==Te?void 0:Te.currentVersionId]),Ct=(0,w.useMemo)((function(){var e,n;return{entityId:gt,entityGroupId:(null==Te?void 0:Te.id)||jn,isEnabled:null==zn||!zn.id||zn.id===(null==Te?void 0:Te.currentVersionId),workspaceId:(null==Te||null===(e=Te.project)||void 0===e||null===(n=e.workspace)||void 0===n?void 0:n.id)||""}}),[gt,null==zn?void 0:zn.id,null==Te?void 0:Te.currentVersionId,null==Te?void 0:Te.id,null==Te||null===(d=Te.project)||void 0===d||null===(p=d.workspace)||void 0===p?void 0:p.id,jn]),Et=(0,_.X0)(Ct),kt=(0,_.us)(Ct),yt=(0,_.es)(Ct),jt=(0,_.VP)(Ct),Ot=(0,_.UR)(Ct),St=(0,_.OL)(Ct),Mt=(0,_._i)(Ct),It=(0,A.M)({entityId:An===X.s.COMMENTS?gt:"",entityType:$.TY.FileVersion}),Nt=It.canFetchMoreComments,Tt=It.commentsQuery,Ft=It.onFetchMoreComments,Rt=It.onHideReplies,Pt=It.onShowReplies,Lt=It.parentComment,qt=It.pushoverMode;(0,w.useEffect)((function(){bn&&Rt(null)}),[bn,Rt]);var _t=(0,w.useMemo)((function(){return(0,m.H3)(Vn||"#f8fafc")<.5}),[Vn]),At=(0,E.aM)({query:z.mT,variables:{id:jn},pause:!jn||An!==X.s.COMMENTS}),Ut=(0,r.Z)(At,1)[0],Zt=(0,w.useState)(!1),Dt=Zt[0],Gt=Zt[1],Bt=(0,w.useCallback)((function(){return Gt(!0)}),[]),Vt=(0,w.useCallback)((function(){return Gt(!1)}),[]);(0,w.useEffect)((function(){Vt()}),[qt,Vt]);var Kt=(0,w.useCallback)((function(e){return function(){An!==e&&((0,u.Z9)(new u.lF({location:e})),mt(e)())}}),[An,mt]);return(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(x.default,{children:(0,ne.jsx)("title",{children:(null==Te?void 0:Te.name)||"Animation"})}),(0,ne.jsxs)(y.o,{headerControl:(0,ne.jsx)(B.s,{features:null==Te?void 0:Te.features,children:(0,ne.jsx)(be,{animation:Te,animationFetching:Rn.fetching})}),contentWrapperCssClasses:"flex overflow-hidden flex-grow",children:[Te&&(0,ne.jsxs)(B.s,{features:Te.features,children:[(0,ne.jsxs)(g.I,{className:f()({"flex flex-grow":!0}),handle:lt,onChange:bt,children:[(0,ne.jsx)("div",{className:f()({"relative flex flex-grow ":!0,"transparency-grid":it}),children:(0,ne.jsxs)("div",{className:"relative flex w-full h-full",children:[(0,ne.jsx)("div",{className:f()({"absolute inset-0 flex flex-grow ":!0,"transparency-grid":it}),style:{background:Vn}}),An===X.s.LOTTIE_MOCKUP?(0,ne.jsx)("div",{className:"relative flex items-center justify-center w-full h-full overflow-auto pr-80",children:(0,ne.jsx)(ve,{animation:Te,canEdit:Jn()})}):(0,ne.jsxs)("div",{className:f()("relative flex items-center justify-center w-full h-full overflow-auto",{"pr-80":An!==X.s.NONE}),children:[Se&&!Ge&&(0,ne.jsx)(he,{showComments:!0,canComment:!zn,mentionables:null===(b=Ut.data)||void 0===b?void 0:b.commentMentionableUsers,portalRoot:wt.current,animationUrl:Se,currentDiscussion:Lt,currentUserId:null===(k=On.user)||void 0===k?void 0:k.id,entityId:gt,entityType:$.TY.FileVersion,controls:!rt,isLight:_t,onDeleteComment:Et,onEditComment:kt,onPostComment:yt,onReplyToComment:jt,onResolveComment:Ot,onSelectReaction:St,onUnresolveComment:Mt}),Se&&dn&&(0,ne.jsx)(he,{portalRoot:wt.current,animationUrl:dn,controls:!rt,isLight:_t}),!rt&&(0,ne.jsxs)("div",{className:f()("absolute top-0 bottom-0 flex flex-col pt-4 md:pt-8 pr-4 md:pr-8 pb-14 min-h-0",{"right-0":An===X.s.NONE,"right-86":An!==X.s.NONE}),children:[(0,ne.jsxs)("div",{className:"flex flex-col space-y-2","data-onboarding-id":"anim-panel-btn",children:[Yn()&&(0,ne.jsx)("div",{"data-onboarding-id":"anim-comment-btn",children:(0,ne.jsx)(I.n,{icon:"comment",title:"Comments",shortcut:(0,ne.jsx)(M.z,{keys:["C"]}),onClick:Kt(X.s.COMMENTS),iconColorClass:An===X.s.COMMENTS?"text-actionPrimary":"text-gray-600"})}),(0,ne.jsx)(I.n,{icon:"info",title:"Animation information",onClick:Kt(X.s.FILE_INFO),iconColorClass:An===X.s.FILE_INFO?"text-actionPrimary":"text-gray-600"}),Jn()&&!zn&&(0,ne.jsx)("div",{"data-onboarding-id":"anim-color-palette-btn",children:(0,ne.jsx)(I.n,{icon:"color-palette",title:"Color Palette",onClick:Kt(X.s.COLOR_PALETTES),iconColorClass:An===X.s.COLOR_PALETTES?"text-actionPrimary":"text-gray-600"})}),!zn&&(0,ne.jsx)("div",{"data-onboarding-id":"anim-segment-btn",children:(0,ne.jsx)(I.n,{icon:"segment-mockup",title:"Segments & Mockups",onClick:Kt(X.s.SEGMENT_MOCKUP),iconColorClass:An===X.s.SEGMENT_MOCKUP?"text-actionPrimary":"text-gray-600"})}),Jn()&&(0,ne.jsx)("div",{"data-onboarding-id":"anim-version-btn",children:(0,ne.jsx)(I.n,{icon:"history",title:"Version History",onClick:Kt(X.s.VERSIONS),iconColorClass:An===X.s.VERSIONS?"text-actionPrimary":"text-gray-600"})}),Qn()&&!zn&&(0,ne.jsx)(I.n,{icon:"embed",title:"Handoff & Embed",iconColorClass:An===X.s.EMBED?"text-actionPrimary":"text-gray-600",onClick:Kt(X.s.EMBED)})]}),(0,ne.jsxs)("div",{className:"flex flex-col md:mt-auto pt-2 pb-4 md:py-0 space-y-2",children:[(0,ne.jsx)(j.s,{}),(0,ne.jsx)(I.n,{icon:"grid",title:"Transparency grid",onClick:xt,iconColorClass:it?"text-actionPrimary":"text-gray-600"}),(0,ne.jsx)(pe,{animationBackgroundColor:Vn,canUpdate:Jn(),onChange:function(e){Kn(e)},fileId:Te.id,portalRoot:wt.current}),(0,ne.jsx)(I.n,{icon:"full-screen",title:"Full screen",onClick:ht,iconColorClass:rt?"text-actionPrimary":"text-gray-600"}),(0,ne.jsx)(O.L,{})]})]})]})]})}),(0,ne.jsx)("div",{className:"absolute bottom-0 right-0 flex flex-grow overflow-hidden top-16","data-onboarding-watch":"side_panel",children:(0,ne.jsxs)(l.uT,{show:An!==X.s.NONE,className:"relative flex flex-col bg-white border-l border-gray-100 w-86",enter:"transform transition ease-in-out duration-50",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transform transition ease-in-out duration-50",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:[An!==X.s.LOTTIE_MOCKUP&&(0,ne.jsx)("div",{className:"absolute right-6 top-6",children:(0,ne.jsx)(S.h,{name:"cross",onClick:ft,small:!0,iconLighter:!0})}),An===X.s.COMMENTS&&(0,ne.jsx)(me,{currentUserId:null===(xe=On.user)||void 0===xe?void 0:xe.id,discussions:null===(we=Tt.data)||void 0===we||null===(ge=we.comments)||void 0===ge?void 0:ge.edges,isFetchingDiscussions:Tt.fetching,isInputExpanded:Dt,mentionables:null===(Ce=Ut.data)||void 0===Ce?void 0:Ce.commentMentionableUsers,mode:qt,parentDiscussion:Lt,canFetchMoreComments:Nt,onCollapseInput:Vt,onFetchMoreComments:Ft,onExpandInput:Bt,onDelete:Et,onEdit:kt,onPost:yt,onReply:jt,onReplyClick:Pt,onResolve:Ot,onSelectReaction:St,onUnresolve:Mt}),An===X.s.FILE_INFO&&Pe&&(0,ne.jsx)(fe,{fileMetaData:Pe,basicMetadata:_e,fileData:$n,canEdit:Jn(),canDownload:Qn(),isEditing:Boolean(Jn()&&nn),fileUrl:Se,tags:ln,fileId:Te.id,fileKey:null==Ke?void 0:Ke.key,pageSource:"animation details page",thumbnailUrl:null==Ke||null===(Ee=Ke.thumbnails)||void 0===Ee||null===(ke=Ee.png)||void 0===ke||null===(ye=ke.medium)||void 0===ye?void 0:ye.url,animation:Te,workspaceId:Te.project.workspaceId}),An===X.s.COLOR_PALETTES&&(0,ne.jsx)(de,{animationUrl:Se,portalRoot:wt.current,workspaceId:Te.project.workspaceId,setColorModifiedLottie:Gn,setOpenColorPaletteModal:Qe}),An===X.s.LOTTIE_MOCKUP&&(0,ne.jsx)(ce,{canEdit:Jn(),animation:Te,onBackToLottieMockupList:Kt(X.s.SEGMENT_MOCKUP)}),An===X.s.SEGMENT_MOCKUP&&(0,ne.jsx)(ue,{animation:Te,showLottieMockup:Kt(X.s.LOTTIE_MOCKUP)}),An===X.s.VERSIONS&&(0,ne.jsx)(le,{onVersionSelected:function(){Be(null),Xe()},animation:Te}),An===X.s.EMBED&&(0,ne.jsx)(se,{canUpdatePublicAsset:Jn(),fileId:Te.id,currentVersionId:Te.currentVersionId,workspaceId:Te.project.workspaceId}),An===X.s.QRCODE&&(0,ne.jsx)(ie,{fileUrl:Te.fileObject.url}),An===X.s.DOWNLOAD&&_e&&(0,ne.jsx)(ae,{animation:Te,basicMetadata:_e,fileMetaData:Pe,source:"animation"})]})}),(0,ne.jsx)("div",{ref:wt})]}),He&&Ge&&Ke&&(0,ne.jsx)(oe,{currentFile:Ke,currentFileId:null==Te?void 0:Te.id,projectId:null==Te||null===(je=Te.project)||void 0===je?void 0:je.id,lottieAnimation:v()(Ge),closeCallback:function(){Qe(!1)},animationName:null==Te?void 0:Te.name,currentBackgroundColor:(null==Te?void 0:Te.backgroundColor)||"none",show:!0})]}),Te&&yn&&!vt.fetching&&vt.data&&(0,ne.jsx)(re,{animation:Te,handback:vt.data.fileHandback})]}),(0,ne.jsx)(te,{illustrationURL:"/images/onboarding-animation.png",show:gn(ee.yM.INTRO_ANIM_SEQUENCE),title:"A fresh new look for animation pages",description:"We’ve redesigned the animation pages from the ground up so you can easily get to the tools you’ll need and enjoy a better overall experience. Check out what we’ve changed!",buttonContent:"Let's go",onClose:function(){En([T.p9]),Cn(ee.yM.INTRO_ANIM_SEQUENCE)}})]})};xe.getLayout=function(e){return(0,ne.jsx)(k.By,{collapsed:!0,children:e})},n.default=xe},11957:function(e,n,t){"use strict";t.d(n,{s:function(){return s},w:function(){return l}});var r=t(62295),o=t(29901),a=t(61250),i=o.createContext({features:[]}),s=function(e){var n=e.children,t=e.features;return(0,a.jsx)(i.Provider,{value:{features:t},children:n})},l=function(){var e=o.useContext(i).features;return e?new r.UZ(e):new r.UZ([])}},26929:function(e,n,t){e.exports=t(95798)},34742:function(e,n,t){"use strict";t.d(n,{I:function(){return f},r:function(){return d}});var r=t(29901),o={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5,fullscreen:6},a=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],i=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],s=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"],l="undefined"!=typeof window&&void 0!==window.document?window.document:{},u="fullscreenEnabled"in l&&Object.keys(o)||a[0]in l&&a||i[0]in l&&i||s[0]in l&&s||[],c={requestFullscreen:function(e){return e[u[o.requestFullscreen]]()},requestFullscreenFunction:function(e){return e[u[o.requestFullscreen]]},get exitFullscreen(){return l[u[o.exitFullscreen]].bind(l)},get fullscreenPseudoClass(){return":"+u[o.fullscreen]},addEventListener:function(e,n,t){return l.addEventListener(u[o[e]],n,t)},removeEventListener:function(e,n,t){return l.removeEventListener(u[o[e]],n,t)},get fullscreenEnabled(){return Boolean(l[u[o.fullscreenEnabled]])},set fullscreenEnabled(e){},get fullscreenElement(){return l[u[o.fullscreenElement]]},set fullscreenElement(e){},get onfullscreenchange(){return l[("on"+u[o.fullscreenchange]).toLowerCase()]},set onfullscreenchange(e){return l[("on"+u[o.fullscreenchange]).toLowerCase()]=e},get onfullscreenerror(){return l[("on"+u[o.fullscreenerror]).toLowerCase()]},set onfullscreenerror(e){return l[("on"+u[o.fullscreenerror]).toLowerCase()]=e}};function d(){var e=(0,r.useState)(!1),n=e[0],t=e[1],o=(0,r.useRef)(null);(0,r.useEffect)((function(){var e=function(){t(c.fullscreenElement===o.current)};return c.addEventListener("fullscreenchange",e),function(){return c.removeEventListener("fullscreenchange",e)}}),[]);var a=(0,r.useCallback)((function(){return c.fullscreenElement?c.exitFullscreen().then((function(){return c.requestFullscreen(o.current)})):o.current?c.requestFullscreen(o.current):void 0}),[]),i=(0,r.useCallback)((function(){return c.fullscreenElement===o.current?c.exitFullscreen():Promise.resolve()}),[]);return(0,r.useMemo)((function(){return{active:n,enter:a,exit:i,node:o}}),[n,a,i])}var f=function(e){var n=e.handle,t=e.onChange,o=e.children,a=e.className,i=[];return a&&i.push(a),i.push("fullscreen"),n.active&&i.push("fullscreen-enabled"),(0,r.useEffect)((function(){t&&t(n.active,n)}),[n.active]),r.createElement("div",{className:i.join(" "),ref:n.node,style:n.active?{height:"100%",width:"100%"}:void 0},o)}}}]);