"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6042],{20291:function(e,n,t){t.d(n,{p:function(){return a}});t(29901);var r=t(61250),a=function(e){var n=e.small;return void 0!==n&&n?(0,r.jsx)("svg",{width:"32",height:"29",viewBox:"0 0 32 29",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M29.4449 0C20.5349 0 17.2461 6.37426 14.5967 11.4968L12.8645 14.7707C10.0552 20.2036 7.95873 23.5038 2.55507 23.5038C2.21944 23.5034 1.88705 23.5695 1.5769 23.6982C1.26675 23.827 0.984928 24.0158 0.747598 24.2539C0.510269 24.4921 0.322077 24.7749 0.193794 25.0861C0.065512 25.3973 -0.000343424 25.7309 1.34674e-06 26.0677C-0.000343424 26.4045 0.065512 26.738 0.193794 27.0492C0.322077 27.3605 0.510269 27.6432 0.747598 27.8814C0.984928 28.1195 1.26675 28.3084 1.5769 28.4371C1.88705 28.5658 2.21944 28.6319 2.55507 28.6316C11.4651 28.6316 14.7513 22.2573 17.4033 17.1348L19.1329 13.8609C21.9448 8.42801 24.0413 5.12781 29.4449 5.12781C30.1226 5.12781 30.7725 4.85769 31.2516 4.37686C31.7308 3.89604 32 3.2439 32 2.56391C32 1.88392 31.7308 1.23178 31.2516 0.750952C30.7725 0.270126 30.1226 0 29.4449 0Z",fill:"#DAE1E7"})}):(0,r.jsxs)("svg",{width:"74",height:"84",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M34.5 53.533l-.17-4.325-6.628 3.815.422-7.32-.897.224C20.37 57.661 14.285 63.511 9.943 63.185c-2.783-.208-5.206 1.91-5.412 4.73-.204 2.822 1.885 5.28 4.667 5.489 8.551.64 16.746-5.948 25.302-19.87zM29.02 39.543l2.76-.352-1.288 7.252 7.064-3.02-.153 1.927a152.31 152.31 0 005.294-6.682c10.698-14.26 19.19-20.644 23.89-19.112 2.654.86 5.507-.62 6.371-3.316v.002c.865-2.695-.586-5.575-3.24-6.44-10.023-3.262-21.313 4.37-35.06 22.692a136.35 136.35 0 01-5.637 7.05z",fill:"#DAE1E7"}),(0,r.jsx)("path",{d:"M23.536 40.332l-6.792-5.97c-.448-.395-1.233-.382-1.619.103-.386.486-.378 1.195.104 1.619l6.793 5.97c.448.394 1.233.381 1.619-.104.386-.485.378-1.194-.105-1.618zM25.877 37.821l-.42-5.252c-.04-.511-.633-.914-1.123-.812-.556.117-.855.576-.813 1.123.14 1.748.278 3.497.42 5.251.04.512.632.915 1.123.813.555-.117.854-.576.813-1.123zM22.596 44.933l-5.28-.811c-.514-.08-1.09.335-1.14.776-.055.5.304.858.853.944 1.757.27 3.515.541 5.28.811.514.08 1.09-.336 1.14-.777.054-.5-.304-.857-.853-.943zM40.515 55.434c-.63-1.068-1.259-2.135-1.892-3.205-.183-.313-.684-.385-.964-.169-.316.246-.364.63-.169.965l1.892 3.204c.183.313.684.386.964.169.316-.246.364-.63.169-.965zM40.786 49.91c1.742.2 3.485.402 5.233.602.51.059 1.02-.444 1.015-.945-.008-.568-.4-.95-.945-1.014-1.743-.201-3.485-.403-5.234-.602-.51-.06-1.02.444-1.014.945.008.567.4.95.945 1.014z",fill:"#DAE1E7"})]})}},38887:function(e,n,t){t.d(n,{W:function(){return s}});t(29901);var r=t(34916),a=t(61250),s=[{label:"Shipped",value:r.nT.Shipped,icon:(0,a.jsx)("div",{className:"w-3.5 h-3.5 rounded-full bg-blue-500"})},{label:"Approved",value:r.nT.Approved,icon:(0,a.jsx)("div",{className:"w-3.5 h-3.5 rounded-full bg-green-300"})},{label:"Needs review",value:r.nT.NeedsReview,icon:(0,a.jsx)("div",{className:"w-3.5 h-3.5 rounded-full bg-orange-400"})},{label:"In progress",value:r.nT.InProgress,icon:(0,a.jsx)("div",{className:"w-3.5 h-3.5 rounded-full bg-purple-400"})},{label:"No status",value:"NoStatus",icon:(0,a.jsx)("div",{className:"w-3.5 h-3.5 rounded-full bg-white border border-gray-200"})}]},64229:function(e,n,t){t.d(n,{y:function(){return c}});var r=t(83849),a=t.n(r),s=t(29901),o=t(47381),l=t(61250),i=function(){return(0,l.jsx)("svg",{width:"69",height:"62",viewBox:"0 0 69 62",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{d:"M63.3649 0C44.1908 0 37.1133 13.67 31.4118 24.6557L27.6841 31.6768C21.6386 43.3279 17.127 50.4054 5.49847 50.4054C4.7762 50.4047 4.06089 50.5464 3.39345 50.8224C2.72601 51.0985 2.11955 51.5035 1.60882 52.0142C1.09809 52.5249 0.693103 53.1314 0.417042 53.7988C0.140981 54.4663 -0.000739042 55.1816 2.89816e-06 55.9039V55.9039C-0.000739042 56.6261 0.140981 57.3414 0.417042 58.0089C0.693103 58.6763 1.09809 59.2828 1.60882 59.7935C2.11955 60.3042 2.72601 60.7092 3.39345 60.9853C4.06089 61.2614 4.7762 61.4031 5.49847 61.4023V61.4023C24.6726 61.4023 31.7445 47.7323 37.4517 36.7466L41.1737 29.7256C47.2248 18.0744 51.7364 10.9969 63.3649 10.9969C64.8232 10.9969 66.2218 10.4176 67.2529 9.38647C68.2841 8.35531 68.8634 6.95676 68.8634 5.49847V5.49847C68.8634 4.04019 68.2841 2.64163 67.2529 1.61047C66.2218 0.579304 64.8232 0 63.3649 0V0Z",fill:"#D9E0E6"})})},c=function(e){var n=e.alt,t=e.hasError,r=void 0!==t&&t,c=e.lazy,u=void 0!==c&&c,d=e.onError,f=e.src,h=(0,s.useState)(!0),m=h[0],p=h[1],v=(0,s.useCallback)((function(){p(!1)}),[]),b=(0,s.useCallback)((function(){null==d||d(),v()}),[d,v]);return(0,l.jsxs)(l.Fragment,{children:[!r&&m&&f&&(0,l.jsx)(o.a,{type:"spinner",size:"sm"}),!r&&f?(0,l.jsx)("img",{role:"presentation",src:f,alt:n,className:a()("w-full h-full object-contain",{hidden:m}),loading:u?"lazy":"eager",onError:b,onLoad:v}):(0,l.jsx)("div",{className:"absolute transform -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2",children:(0,l.jsx)(i,{})})]})}},82385:function(e,n,t){t.d(n,{v:function(){return c}});var r=t(98951),a=t(51276),s=t(35863),o=t(40467),l=t(29901),i=t(61250),c=function(e){var n=e.date,t=(0,l.useState)(""),c=t[0],u=t[1],d=(0,l.useCallback)((function(){var e=new Date(n);(0,r.Z)(e)?u("today"):(0,a.Z)(e)?u("yesterday"):(0,s.Z)(e)?u("".concat((0,o.Z)(e,"d MMM"))):u("".concat((0,o.Z)(e,"yy/M/d")))}),[n]);return(0,l.useEffect)((function(){d()}),[d]),(0,i.jsx)("span",{children:c})}},77729:function(e,n,t){t.d(n,{Z:function(){return a}});t(29901);var r=t(61250),a=function(e){var n=e.additionalClasses,t=e.children;return(0,r.jsx)("div",{className:"border bg-white border-gray-100 rounded-md ".concat(n),children:t})}},90410:function(e,n,t){t.d(n,{K:function(){return O}});var r=t(55312),a=t(24642),s=t.n(a),o=t(83849),l=t.n(o),i=t(88406),c=t(29901),u=t(38887),d=t(20291),f=t(78429),h=t(64229),m=t(50719),p=t(30891),v=t(76049),b=t(93065),x=t(41404),j=t(18100),w=t(13485),C=t(61250),g=(0,i.default)((0,r.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.e(2503).then(t.bind(t,42503)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[42503]},modules:["../components/ui/cards/animation-card.tsx -> @/components/ui/modals/rename-animation-modal"]}}),y=(0,i.default)((0,r.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve().then(t.bind(t,76049)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[76049]},modules:["../components/ui/cards/animation-card.tsx -> @/components/ui/menus/animation-status-selector-v-2"]}}),S=(0,i.default)((0,r.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([t.e(7255),t.e(6660),t.e(2762),t.e(9421),t.e(4284),t.e(6459),t.e(8958),t.e(4173),t.e(8326),t.e(6803)]).then(t.bind(t,76189)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[76189]},modules:["../components/ui/cards/animation-card.tsx -> ./file-card-metadata"]}}),N=function(e){var n=e.isCollapsed,t=void 0!==n&&n,r=e.status,a=u.W.find((function(e){return e.value===r}));return r&&a?t?(0,C.jsx)("div",{className:"px-3 py-1 mt-1",children:a.icon}):(0,C.jsx)("div",{className:"px-1 text-gray-600 bg-gray-100 rounded-md",children:(0,C.jsxs)("div",{className:"flex items-center px-2 py-1 text-sm",children:[a.icon,(0,C.jsx)("p",{children:a.label})]})}):(0,C.jsx)(C.Fragment,{})},k=function(e){var n=e.hasFullAccess,t=e.isHovered,r=e.isInSelectionMode,a=e.isSelectable,s=e.isSelected,o=e.onCheckboxChange;return(0,C.jsx)("div",{className:"absolute right-0 z-20 top-2",children:(0,C.jsx)(m.Z,{variant:"caption-1",tag:"div",children:(t&&a||s||r)&&n&&(0,C.jsx)(p.X,{label:"check-card",checked:s,onChange:o})})})},A=function(e){var n=e.animation,t=e.backgroundColor,r=e.hasFullAccess,a=e.hasPlayerError,s=e.hasThumbnailError,o=e.isHovered,i=e.isInSelectionMode,u=e.isSelectable,p=e.isSelected,b=e.onCheckboxChange,x=e.onOverlayClick,w=e.onOverlayKeydown,g=e.onPlayerError,S=e.onThumbnailError,A=e.playerRef,O=e.playerRefCallback,E=e.showStatus,I=void 0===E||E,M=e.status,T=e.thumbnailSrc,D=e.title,_=e.url,P=A.current,Z=(0,j.sZ)(n.project.workspaceId),R=(0,c.useState)(!1),z=R[0],L=R[1];(0,c.useEffect)((function(){return P&&P.addEventListener("error",g),function(){P&&P.removeEventListener("error",g)}}),[P,A,g,o]);return(0,C.jsxs)("div",{className:"w-full h-[calc(100%-3.5rem)] select-none relative z-0 p-2",style:{backgroundColor:null!=t?t:"none"},children:[I&&(0,C.jsx)(y,{source:v.AnimationStatusSource.ANIMATION_CARD_DROPDOWN,featureService:Z,animationId:n.id,animationStatus:n.status,projectId:n.project.id,workspaceId:n.project.workspaceId,isSubMenu:!0,handleStatusSelectorChange:function(e){L(e)},dropdownOffset:8,customTrigger:(0,C.jsx)("div",{className:"absolute left-0 z-20 pl-2 cursor-pointer top-2",children:(0,C.jsx)(m.Z,{tag:"div",variant:"caption-1",children:o||z?(0,C.jsx)(N,{status:M}):(0,C.jsx)(N,{status:M,isCollapsed:!0})})})}),(0,C.jsx)(k,{hasFullAccess:r,isInSelectionMode:i,isSelectable:u,isSelected:p,onCheckboxChange:b,isHovered:o}),(0,C.jsx)("div",{onKeyDown:w,onClick:x,className:"absolute inset-0 z-10 cursor-pointer"}),(0,C.jsx)("div",{className:l()("mx-auto h-full",{hidden:!o&&T}),children:_&&!a?(0,C.jsx)(f.V,{autoplay:!1,loop:!0,src:_,playerRef:O}):(0,C.jsx)("div",{className:"flex items-center justify-center w-full h-full",children:(0,C.jsx)(d.p,{})})}),(0,C.jsx)("div",{className:l()("mx-auto h-full",{hidden:o||!T}),children:(0,C.jsx)(h.y,{src:T,onError:S,alt:D,hasError:s})})]})},O=function(e){var n=e.animation,t=e.backgroundColor,r=void 0===t?null:t,a=e.date,s=e.disableMenu,o=void 0!==s&&s,i=e.onClick,u=e.onSelectionChange,d=e.project,f=e.scopes,h=e.selectable,m=void 0!==h&&h,p=e.selected,v=void 0!==p&&p,j=e.selectionMode,y=void 0!==j&&j,N=e.showAddToCollection,k=e.showStatus,O=void 0===k||k,E=e.showUpdatedUser,I=void 0===E||E,M=e.status,T=e.thumbnail,D=e.title,_=e.upgradeRequired,P=e.url,Z=e.username,R=(0,c.useState)(!1),z=R[0],L=R[1],U=(0,b.a)({scopes:f||[]}).canFullAccess,F=(0,c.useState)(!1),K=F[0],H=F[1],V=(0,c.useState)(!1),W=V[0],G=V[1],B=(0,c.useState)(!1),q=B[0],J=B[1],X=(0,c.useRef)(null),Y=(0,c.useCallback)((function(e){e&&(X.current=e)}),[]),Q=(0,c.useCallback)((function(){var e;null===(e=X.current)||void 0===e||e.play(),L(!0)}),[X,L]),$=(0,c.useCallback)((function(){var e;null===(e=X.current)||void 0===e||e.pause(),L(!1)}),[X,L]),ee=(0,c.useCallback)((function(){u&&u()}),[u]),ne=(0,c.useCallback)((function(){H(!1)}),[]),te=(0,c.useCallback)((function(e){if(y&&u)u();else if(i){var n=w.Mq?e.metaKey:e.ctrlKey;i(n)}}),[u,i,y]),re=(0,c.useCallback)((function(e){if("Space"===e.key)if(y&&u)u();else if(i){var n=w.Mq?e.metaKey:e.ctrlKey;i(n)}}),[i,u,y]),ae=(0,c.useCallback)((function(){G(!0)}),[]),se=(0,c.useCallback)((function(){J(!0)}),[]),oe=(0,c.useCallback)((function(){U()&&H(!0)}),[U]),le=(0,x.h)(te,oe);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{className:l()("relative w-full transition duration-100 ease-out bg-white border border-gray-100 rounded-md animation-card overflow-hidden group hover:lf-shadow-md",{"selected-card":v,"opacity-30":_}),onMouseEnter:Q,onMouseLeave:$,children:(0,C.jsxs)("div",{className:"animation",children:[(0,C.jsx)(A,{animation:n,backgroundColor:r,hasFullAccess:U(),isHovered:z,hasThumbnailError:W,hasPlayerError:q,isSelectable:m,isSelected:v,isInSelectionMode:y,showStatus:O,status:M,title:D,thumbnailSrc:T,url:P,playerRefCallback:Y,playerRef:X,onCheckboxChange:ee,onOverlayClick:te,onOverlayKeydown:re,onPlayerError:se,onThumbnailError:ae}),(0,C.jsx)(S,{animation:n,isMenuDisabled:o,onTitleClick:le,projectName:d,showAddToCollection:Boolean(N),showUpdatedUser:I,title:D,updatedDate:a,username:Z,showActionsMenu:z,showFilledIcon:z})]})}),(0,C.jsx)(g,{show:K,animationId:n.id,animationName:n.name,close:ne})]})}},76049:function(e,n,t){t.r(n),t.d(n,{AnimationStatusSource:function(){return r},AnimationStatusSelector:function(){return g}});var r,a=t(55312),s=t(77916),o=t(89303),l=t(24642),i=t.n(l),c=t(26766),u=t(62295),d=t(29901),f=t(389),h=t(18807),m=t(27024),p=t(99897),v=t(98082),b=t(38887),x=t(37576),j=t(61250);function w(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function C(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?w(Object(t),!0).forEach((function(n){(0,s.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):w(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}!function(e){e.ANIMATION_CARD_DROPDOWN="animation_card_dropdown",e.ANIMATION_DETAILS="animation_details",e.SELECTION_BAR="selection_bar"}(r||(r={}));var g=function(e){var n=e.animationId,t=e.animationStatus,r=e.customTrigger,s=e.disabled,l=void 0!==s&&s,w=e.dropdownOffset,g=e.featureService,y=e.handleStatusSelectorChange,S=e.isSubMenu,N=void 0!==S&&S,k=e.projectId,A=e.source,O=e.workspaceId,E=(0,f.Db)(h.v3),I=(0,o.Z)(E,2)[1],M=(0,x.p)(),T=(0,d.useMemo)((function(){return b.W.map((function(e){return C(C({},e),{},{selected:!1})}))}),[]),D=(0,d.useCallback)(function(){var e=(0,a.Z)(i().mark((function e(r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I({id:n,status:r});case 2:e.sent.error||null==M||M.pushSuccess("Status updated"),(0,c.Z9)(new c.Yk({fileId:n,oldStatus:t,newStatus:r,projectId:k,workspaceId:O,source:A}));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[I,n,t,k,O,M,A]),_=(0,d.useMemo)((function(){return T.find((function(e){return e.value===t}))||T[T.length-1]}),[t,T]),P=(0,d.useMemo)((function(){return r?(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(m.f.Trigger,{asChild:!0,children:r})}):(0,j.jsx)(j.Fragment,{children:N?(0,j.jsxs)(m.f.Trigger,{disabled:l,type:"menu-item",className:"disabled:opacity-30",children:[(0,j.jsx)("div",{className:"flex items-center justify-center w-6 h-6 mr-2 ",children:null==_?void 0:_.icon}),(0,j.jsx)("div",{className:"flex-grow text-sm",children:null==_?void 0:_.label}),!g.canUpdateAnimationStatus()&&(0,j.jsx)(v.y,{iconOnly:!0,className:"ml-2",source:u.Hh.UPDATE_ANIMATION_STATUS,workspaceId:O}),(0,j.jsx)("div",{className:"flex items-center text-gray-500",children:(0,j.jsx)(p.J,{name:"chevron-right"})})]}):(0,j.jsxs)(m.f.Trigger,{disabled:l,type:"text",className:"disabled:opacity-30",children:[(0,j.jsx)("div",{className:"mr-2",children:null==_?void 0:_.icon}),(0,j.jsx)("div",{className:"flex-grow text-sm",children:null==_?void 0:_.label}),!g.canUpdateAnimationStatus()&&(0,j.jsx)(v.y,{iconOnly:!0,className:"ml-2",source:u.Hh.UPDATE_ANIMATION_STATUS,workspaceId:O}),(0,j.jsx)("div",{className:"flex items-center text-gray-500",children:(0,j.jsx)(p.J,{name:"chevron-down-fill",small:!0,marginLeft:!0})})]})})}),[r,N,l,null==_?void 0:_.icon,null==_?void 0:_.label,g,O]);return(0,j.jsxs)(m.f,{onOpenChange:y,children:[P,(0,j.jsx)(m.f.Content,{sideOffset:w||0,alignOffset:w||0,side:"bottom",align:"start",children:T.map((function(e){return(0,j.jsxs)(m.f.Item,{onSelect:(0,a.Z)(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!g.canUpdateAnimationStatus()){n.next=5;break}return n.next=3,D("NoStatus"===e.value?null:e.value);case 3:n.next=6;break;case 5:(0,v.Z)({source:u.Hh.UPDATE_ANIMATION_STATUS,workspaceId:O});case 6:case"end":return n.stop()}}),n)}))),children:[(0,j.jsx)("span",{className:"mr-2",children:e.icon}),(0,j.jsx)("span",{children:e.label})]},e.value)}))})]})};n.default=g},93065:function(e,n,t){t.d(n,{a:function(){return a}});var r=t(34916),a=function(e){var n=e.scopes,t=function(){return n.includes(r.GN.FULL_ACCESS)},a=function(){return t()||n.includes(r.GN.DOWNLOAD)};return{canView:function(){return t()||a()||n.includes(r.GN.VIEW)},canFullAccess:t,canDownload:a}}},41404:function(e,n,t){t.d(n,{h:function(){return a}});var r=t(29901),a=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:250,a=(0,r.useRef)(0),s=(0,r.useRef)(null);return(0,r.useEffect)((function(){return function(){null!==s&&(clearTimeout(s.current),s.current=null)}}),[]),(0,r.useCallback)((function(r){if(null!==s.current&&(clearTimeout(s.current),s.current=null),a.current+=1,2===a.current)return n(r),void(a.current=0);s.current=setTimeout((function(){e(r),a.current=0,s.current=null}),t)}),[e,n,t])}}}]);