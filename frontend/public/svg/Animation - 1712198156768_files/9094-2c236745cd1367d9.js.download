"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9094],{41844:function(e,n,t){t.d(n,{Z:function(){return a}});var o=t(17654),i=t(87709);function a(e,n){(0,i.Z)(2,arguments);var t=(0,o.Z)(e),a=(0,o.Z)(n);return t.getTime()===a.getTime()}},35863:function(e,n,t){t.d(n,{Z:function(){return l}});var o=t(27617),i=t(87709);function a(e,n){(0,i.Z)(2,arguments);var t=(0,o.Z)(e),a=(0,o.Z)(n);return t.getFullYear()===a.getFullYear()}function l(e){return(0,i.Z)(1,arguments),a(e,Date.now())}},98951:function(e,n,t){t.d(n,{Z:function(){return a}});var o=t(41844),i=t(87709);function a(e){return(0,i.Z)(1,arguments),(0,o.Z)(e,Date.now())}},51276:function(e,n,t){t.d(n,{Z:function(){return l}});var o=t(41844),i=t(27254),a=t(87709);function l(e){return(0,a.Z)(1,arguments),(0,o.Z)(e,(0,i.Z)(Date.now(),1))}},27254:function(e,n,t){t.d(n,{Z:function(){return r}});var o=t(83879),i=t(27617),a=t(87709);function l(e,n){(0,a.Z)(2,arguments);var t=(0,i.Z)(e),l=(0,o.Z)(n);return isNaN(l)?new Date(NaN):l?(t.setDate(t.getDate()+l),t):t}function r(e,n){(0,a.Z)(2,arguments);var t=(0,o.Z)(n);return l(e,-t)}},30891:function(e,n,t){t.d(n,{X:function(){return h}});var o=t(77916),i=t(51848),a=t(83849),l=t.n(a),r=t(29901),s=t(95893),c=t(99897),d=t(61250),u=["disabled","label","required","valueLabel","id","onChange","name","additionalClasses","checkboxSize","labelClass","layoutClasses","icon","indeterminate"];function f(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function m(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?f(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var h=function(e){var n=e.disabled,t=(e.label,e.required),o=e.valueLabel,a=void 0===o?"":o,f=e.id,h=void 0===f?(0,s.ZP)("checkbox-"):f,v=e.onChange,p=e.name,b=e.additionalClasses,g=e.checkboxSize,w=void 0===g?"small":g,x=e.labelClass,C=void 0===x?"text-sm":x,j=e.layoutClasses,k=void 0===j?"inline-flex items-center justify-center space-x-1":j,y=e.icon,M=e.indeterminate,S=void 0!==M&&M,Z=(0,i.Z)(e,u),I=(0,r.useState)(!1),N=I[0],L=I[1],D=(0,r.useState)(!1),O=D[0],A=D[1],P=(0,r.useState)(null),E=P[0],_=P[1],F=(0,r.useCallback)((function(){L(!0)}),[]),U=(0,r.useCallback)((function(){L(!1)}),[]);(0,r.useEffect)((function(){E&&(E.indeterminate=!!S)}),[E,S]);var B=(0,r.useCallback)((function(e){e.stopPropagation(),v(e.target.checked),e.target.checked?A(!0):A(!1)}),[A,v]),T=(0,d.jsxs)("div",{className:"".concat(k," ").concat(b),children:[(0,d.jsxs)("div",{className:l()({"relative inset-x-0 items-center":!0,"h-5 w-5 min-h-[1rem]":"extra-small"===w,"h-6 w-6 min-h-[1.75rem]":"small"===w,"h-10 w-10 min-h-[2.5rem] min-w-[2.5rem]":"large"===w}),children:[N&&(0,d.jsx)("div",{className:l()({"absolute inset-0 m-auto rounded-full bg-gray-100":!0,"bg-teal-100":O,"h-5 w-5":"extra-small"===w,"h-6 w-6":"small"===w,"h-9 w-9":"large"===w})}),(0,d.jsx)("input",m(m({name:p||h,ref:_,type:"checkbox",id:h,required:t,disabled:n,"aria-labelledby":"label-".concat(h),onChange:B,onClick:function(e){e.stopPropagation()}},Z),{},{className:l()({"bg-gray-100 text-gray-300 cursor-not-allowed":n,"absolute inset-0 m-auto border focus:ring-teal-300 focus:ring-offset-0 text-actionPrimary border-gray-300 bg-gray-100 hover:cursor-pointer checkbox":!0,indeterminate:S,"h-3 w-3 rounded-3":"extra-small"===w,"h-4 w-4 rounded-3":"small"===w,"h-6 w-6 rounded-5":"large"===w}),onMouseEnter:F,onMouseLeave:U}))]}),(0,d.jsxs)("label",{id:"label-".concat(h),htmlFor:h,className:l()(C,{"font-medium text-gray-500 dark:text-gray-300 flex flex-row items-center justify-start ml-0":!0}),children:[y&&(0,d.jsx)(c.J,{name:y,color:"text-gray-400",small:!0,className:"h-[16px] -ml-1"}),(0,d.jsx)("span",{className:"ml-1",children:a})]})]});return(0,d.jsx)(d.Fragment,{children:T})}},97846:function(e,n,t){t.r(n),t.d(n,{GridView:function(){return _},default:function(){return F}});var o=t(29901),i=t(24161),a=t(59715),l=t(62295),r=t(46717),s=t(83849),c=t.n(s),d=t(90410),u=t(45158),f=t(43601),m=t(35948),h=t(61250),v=(0,r.zo)("button",{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:32,fontSize:14,fontWeight:700,padding:"4px 12px",borderRadius:8,backgroundColor:"#00C1A2",border:"none",color:"#FFF",cursor:"pointer",transition:"all 0.3s ease-in-out","&:hover":{backgroundColor:"#00C1A2"},"&:focus":{outline:"none"},"&:active":{backgroundColor:"#00C1A2"}}),p=function(e){var n=e.workspaceId,t=(0,a.SS)(l.AD.FILE_UPLOAD_LIMIT),i=(0,f.Z)({workspaceId:n}).onClick,r=(0,m.g)(n).planName,s=(0,o.useState)(!1),d=s[0],u=s[1],p=(0,o.useCallback)((function(){u(!0)}),[]),b=(0,o.useCallback)((function(){u(!1)}),[]);return(0,h.jsx)("div",{onMouseEnter:p,onMouseLeave:b,className:c()({"absolute top-0 bottom-0 left-0 right-0 w-full h-full z-10 rounded-md":!0}),children:d&&(0,h.jsxs)("div",{className:"flex flex-col items-center h-full p-5 space-y-5 bg-white border rounded-md border-gray-50 bg-opacity-90",children:[(0,h.jsxs)("div",{className:"text-sm text-gray-700 line-clamp-5",children:["You can only access your ",t.value," most recently created files on your current ",r,". Upgrade to access all your files."]}),(0,h.jsx)(v,{onClick:i,children:"Upgrade"})]})})},b=function(e){var n,t,o,i,a,l,r,s=e.animation,c=e.disableMenu,f=e.isSelected,m=e.onClick,v=e.onSelectionChange,b=e.selectable,g=e.selectionMode,w=e.showAddToCollection,x=e.showStatus,C=void 0===x||x,j=e.showUpdatedUser,k=e.workspaceId,y=(0,u.Q)(k);return(0,h.jsxs)("div",{className:"relative rounded-md",children:[y.length>0&&!y.includes(s.id)&&(0,h.jsx)(p,{workspaceId:s.project.workspaceId}),(0,h.jsx)(d.K,{scopes:s.animationPermissionScopes,animation:s,backgroundColor:s.backgroundColor,thumbnail:null===(n=s.fileObject)||void 0===n||null===(t=n.thumbnails)||void 0===t||null===(o=t.webp)||void 0===o||null===(i=o.medium)||void 0===i?void 0:i.url,title:s.name,url:null===(a=s.fileObject)||void 0===a?void 0:a.url,showUpdatedUser:j,username:s.modifiedBy?s.modifiedBy.name:null===(l=s.createdBy)||void 0===l?void 0:l.name,project:null===(r=s.project)||void 0===r?void 0:r.title,date:s.updatedAt,selectable:b,selected:f,onSelectionChange:v,selectionMode:g,showStatus:C,status:s.status,onClick:m,disableMenu:c,showAddToCollection:w,upgradeRequired:y.length>0&&!y.includes(s.id)})]})},g=t(55312),w=t(24642),x=t.n(w),C=t(88406),j=t(42503),k=t(64229),y=t(50719),M=t(30891),S=t(93065),Z=t(41404),I=t(13485),N=(0,C.default)((0,g.Z)(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([t.e(7255),t.e(6660),t.e(2762),t.e(9421),t.e(4284),t.e(6459),t.e(8958),t.e(4173),t.e(8326),t.e(3883)]).then(t.bind(t,76189)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[76189]},modules:["../components/ui/cards/creator-card.tsx -> @/components/ui/cards/file-card-metadata"]}}),L=function(e){var n,t,i,a,l,r,s,d,u,f,m,v=e.disableMenu,p=void 0!==v&&v,b=e.file,g=e.isSelected,w=void 0!==g&&g,x=e.onClick,C=e.onSelectionChange,L=e.selectable,D=void 0!==L&&L,O=e.selectionMode,A=void 0!==O&&O,P=(0,o.useState)(!1),E=P[0],_=P[1],F=(0,o.useState)(!1),U=F[0],B=F[1],T=(0,S.a)({scopes:b.animationPermissionScopes||[]}).canFullAccess,q=(0,o.useCallback)((function(){B(!1)}),[]),z=(0,o.useCallback)((function(){C&&C()}),[C]),H=(0,o.useCallback)((function(){_(!0)}),[_]),K=(0,o.useCallback)((function(){_(!1)}),[_]),R=(0,o.useCallback)((function(){T()&&B(!0)}),[T]),V=(0,o.useCallback)((function(e){if(A&&C)C();else if(x){var n=I.Mq?e.metaKey:e.ctrlKey;x(n)}}),[C,x,A]),Q=(0,o.useCallback)((function(e){if("Space"===e.key)if(A&&C)C();else if(x){var n=I.Mq?e.metaKey:e.ctrlKey;x(n)}}),[x,C,A]),W=(0,Z.h)(V,R);return(0,h.jsxs)("div",{className:"relative z-0 group w-full aspect-square",onMouseEnter:H,onMouseLeave:K,children:[(0,h.jsx)("svg",{className:c()("absolute inset-0 w-full h-full",{"creator-drop-shadow":E}),xmlns:"http://www.w3.org/2000/svg",width:"210",height:"210",viewBox:"0 0 210 210",fill:"none",children:(0,h.jsx)("path",{fill:"white",id:"Vector_2",d:"M190.984 18.3777C173.641 1.0344 173.944 0.522461 172.377 0.522461H6.79014C3.33193 0.522461 0.521484 3.33291 0.521484 6.79112V203.209C0.521484 206.667 3.33193 209.478 6.79014 209.478H203.208C206.666 209.478 209.477 206.667 209.477 203.209V37.6225C209.477 35.721 208.662 36.0553 190.995 18.3881",stroke:"rgba(217, 224, 230, 1)"})}),(0,h.jsxs)("div",{className:"absolute inset-0 h-full w-full",children:[(0,h.jsxs)("div",{className:"w-full h-[calc(100%-3.5rem)] relative z-0 p-2",children:[(0,h.jsx)("div",{onKeyDown:Q,onClick:V,className:"absolute inset-0 z-10 cursor-pointer"}),(0,h.jsx)("div",{className:"h-full p-4 -mx-2 border-b border-gray-50",children:(0,h.jsx)("div",{className:"h-full mx-auto transparency-grid-square",children:(0,h.jsx)(k.y,{src:(null===(n=b.fileObject)||void 0===n||null===(t=n.thumbnails)||void 0===t||null===(i=t.webp)||void 0===i||null===(a=i.medium)||void 0===a?void 0:a.url)||(null===(l=b.fileObject)||void 0===l||null===(r=l.thumbnails)||void 0===r||null===(s=r.png)||void 0===s||null===(d=s.medium)||void 0===d?void 0:d.url)})})})]}),(0,h.jsx)(N,{showActionsMenu:E,animation:b,isMenuDisabled:p,onTitleClick:W,showFilledIcon:E,projectName:null===(u=b.project)||void 0===u?void 0:u.title,showAddToCollection:!1,title:b.name,updatedDate:b.updatedAt,showUpdatedUser:!0,username:b.modifiedBy?"".concat(null===(f=b.modifiedBy)||void 0===f?void 0:f.firstName):"".concat(null===(m=b.createdBy)||void 0===m?void 0:m.firstName)})]}),(0,h.jsxs)("svg",{className:c()("absolute inset-0 w-full h-full pointer-events-none",{"text-actionPrimary":w,"text-gray-100":!w}),xmlns:"http://www.w3.org/2000/svg",width:"210",height:"210",viewBox:"0 0 210 210",fill:"none",children:[(0,h.jsxs)("g",{"clip-path":"url(#clip0_5690_42434)",children:[(0,h.jsx)("path",{d:"M173.182 1.03418L173.213 24.1133C173.213 30.9043 178.719 36.4103 185.51 36.4103H208.84",fill:"white"}),(0,h.jsx)("path",{d:"M173.182 1.03418L173.213 24.1133C173.213 30.9043 178.719 36.4103 185.51 36.4103H208.84",stroke:"rgba(217, 224, 230, 1)"}),w?(0,h.jsx)("path",{d:"M190.5 19.5C190.5 19.5 174.067 2 172.5 2L6.99945 1.5C1.50057 1.5 1.50002 1.5 1.50002 6.79112L1.5 201.5C1.5 208.5 1.5 208.5 7 208.5H203C208.5 208.5 208.5 208.5 208.5 203.137V39.9853C208.5 38.394 207.868 36.8679 206.743 35.7426L190.5 19.5Z",stroke:"currentColor","stroke-width":"3"}):(0,h.jsx)("path",{fill:"none",stroke:"currentColor",d:"M190.984 18.3777C173.641 1.0344 173.944 0.522461 172.377 0.522461H6.79014C3.33193 0.522461 0.521484 3.33291 0.521484 6.79112V203.209C0.521484 206.667 3.33193 209.478 6.79014 209.478H203.208C206.666 209.478 209.477 206.667 209.477 203.209V37.6225C209.477 35.721 208.662 36.0553 190.995 18.3881"})]}),(0,h.jsx)("defs",{children:(0,h.jsx)("clipPath",{id:"clip0_5690_42434",children:(0,h.jsx)("rect",{width:"210",height:"210",fill:"white"})})})]}),(0,h.jsx)("div",{className:"absolute z-20 flex justify-between w-full pr-2 top-2 right-0",children:(0,h.jsx)(y.Z,{variant:"caption-1",tag:"div",className:"ml-auto",children:(E&&D||w||A)&&T()&&(0,h.jsx)(M.X,{label:"check-card",checked:w,onChange:z})})}),(0,h.jsx)(j.default,{show:U,animationId:b.id,animationName:b.name,close:q})]})},D=t(47381),O=t(49736),A=t(97643),P=t(89012),E=t(34916),_=function(e){var n=e.canLoadMore,t=void 0!==n&&n,a=e.files,l=e.isLoadingMore,r=void 0!==l&&l,s=e.onLoadMore,c=void 0===s?function(){}:s,d=e.onSelectionChange,u=e.onFolderDownloadAllClick,f=e.selectable,m=void 0!==f&&f,v=e.selectedAnimations,p=e.selectionMode,g=e.showUpdatedUser,w=void 0===g||g,x=e.showAddToCollection,C=void 0!==x&&x,j=e.showStatus,k=void 0===j||j,y=e.onItemClick,M=e.workspaceId,S=(0,i.useRecoilValue)(P.Y),Z=(0,A.S)({onIntersecting:c}),I=(0,o.useCallback)((function(e){return function(){d&&d(e.id)}}),[d]),N=(0,o.useCallback)((function(e){return function(n){return y(e,n)}}),[y]);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"grid grid-cols-2 gap-6 lg:grid-cols-3 xl:grid-cols-4 xxl:grid-cols-5 2xl:grid-cols-5 3xl:grid-cols-6 4xl:grid-cols-7",children:[a.map((function(e){var n,t,o="file-card-".concat(e.id);return(0,E.qR)(e)?(0,h.jsx)(O.A,{onClick:N(e),title:e.name,username:(null===(n=e.modifiedBy)||void 0===n?void 0:n.name)||(null===(t=e.createdBy)||void 0===t?void 0:t.name),date:e.updatedAt,folder:e,filesCount:e.filesCount,scopes:e.animationPermissionScopes,onDownloadAllClick:u,selectable:m,selectionMode:p,onSelectionChange:I(e),isSelected:!!v&&Boolean(v.some((function(n){return n.id===e.id})))},o):(0,E.QR)(e)?(0,h.jsx)(b,{animation:e,showUpdatedUser:w,showStatus:k,selectable:m,isSelected:!!v&&Boolean(v.some((function(n){return n.id===e.id}))),onSelectionChange:I(e),selectionMode:p,onClick:N(e),disableMenu:S>0,showAddToCollection:C,workspaceId:M},o):(0,E.xK)(e)?(0,h.jsx)(L,{file:e,onClick:N(e),selectable:m,onSelectionChange:I(e),isSelected:!!v&&Boolean(v.includes(e)),disableMenu:S>0,selectionMode:p}):(0,h.jsx)(h.Fragment,{})})),r&&(0,h.jsx)(D.a,{type:"spinner"})]}),t&&!r&&(0,h.jsx)("span",{ref:Z})]})},F=_},45158:function(e,n,t){t.d(n,{Q:function(){return d}});var o=t(89303),i=t(29901),a=t(389),l=t(98326),r=t(18807),s=t(80303),c=t(13485),d=function(e){var n=(0,l.hp)(e),t=(0,c.fK)(n),d=(0,a.aM)({query:r.Z$,pause:!e||!n||!t||t!==s.Q.FREE,variables:{workspaceId:e}}),u=(0,o.Z)(d,1)[0];return(0,i.useMemo)((function(){var e;return t===s.Q.FREE&&(null===(e=u.data)||void 0===e?void 0:e.fileIdsWithinLimit)||[]}),[u,t])}},43601:function(e,n,t){var o=t(89303),i=t(59715),a=t(62295),l=t(29901),r=t(389),s=t(98082),c=t(18807);n.Z=function(e){var n,t,d=e.workspaceId,u=(0,i.SS)(a.AD.FILE_UPLOAD_LIMIT),f=(0,r.aM)({query:c.wG,variables:{workspaceId:d},pause:!d}),m=null!==(n=null===(t=(0,o.Z)(f,1)[0].data)||void 0===t?void 0:t.fileCountByWorkspaceId)&&void 0!==n?n:0,h=u?Math.min(Math.round(m/u.value*100),100):0,v=h<80,p=h>=80&&h<=90,b=h>90,g=function(e){e.stopPropagation(),e.preventDefault(),v?(0,s.Z)({source:a.pj.FILE_UPLOAD_LIMIT,workspaceId:d}):p?(0,s.Z)({source:a.pj.FILE_UPLOAD_LIMIT_ALMOST_REACHED,workspaceId:d}):(0,s.Z)({source:a.pj.FILE_UPLOAD_LIMIT_EXCEEDED,workspaceId:d})};return(0,l.useMemo)((function(){return{fileCount:m,percentage:h,isDefaultState:v,isWarningState:p,isDangerState:b,onClick:g}}),[m,h,v,p,b,g])}}}]);